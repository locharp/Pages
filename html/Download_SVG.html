<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
/*      rect {
        stroke: black;
        stroke-linecap: butt;
        stroke-width: 2;*/
      }
    </style>
    <script>
      window.onload = () => {
        //get svg element.
        let svg = document.getElementById("tobedownloaded");

        //get svg source.
        let serializer = new XMLSerializer();
        let source = serializer.serializeToString(svg);

        //add name spaces.
        if(!source.match(/^<svg[^>]+xmlns="http\:\/\/www\.w3\.org\/2000\/svg"/)){
          source = source.replace(/^<svg/, '<svg xmlns="http://www.w3.org/2000/svg"');
        }
        if(!source.match(/^<svg[^>]+"http\:\/\/www\.w3\.org\/1999\/xlink"/)){
          source = source.replace(/^<svg/, '<svg xmlns:xlink="http://www.w3.org/1999/xlink"');
        }

        //add xml declaration
        source = '<?xml version="1.0" standalone="no"?>\r\n' + source;

        //convert svg source to URI data scheme.
        let url = "data:image/svg+xml;charset=utf-8,"+encodeURIComponent(source);

        //set url value to a element's href attribute.
        document.getElementById("downloadlink").href = url;
        //you can download svg file by right click menu.
      };
      </script>
  </head>
  <body>
    <svg id="tobedownloaded" width="10" height="10">
      <rect x="0" y="0" width="10" height="10" fill="black" />
    </svg>
    <a id="downloadlink" href="">Download</a>
  </body>
</html>
